# :star: Настройка API перевода

> В англоязычной среде эту кнопку будут скрывать.

## Открытие окна настройки API перевода

1. Наведите курсор мыши на `иконку кнопки настроек`.

    ![](../assets/images/TranslationApiConfiguration/api_btn.png)

2. Нажмите на `иконку настройки API перевода`.

    ![](../assets/images/TranslationApiConfiguration/api.png)

## Описание интерфейса перевода

Просмотреть: [Описание интерфейса перевода](/ru/TranslationAPIDescription.md)

## Сравнение интерфейсов перевода

Просмотреть: [Сравнение интерфейсов перевода](/ru/TranslationAPIDescription.md#сравнение-интерфеисов-перевода)

## Бесплатные квоты интерфейсов перевода

Просмотреть: [Бесплатные квоты интерфейсов перевода](/ru/TranslationAPIDescription.md#все-интерфеисы-перевода)

## Заявка на получение API-ключа

Просмотреть: [Заявка на получение API-ключа](/ru/TranslationAPIDescription.md#все-интерфеисы-перевода)

## Офлайн-перевод

Просмотреть: [Офлайн-перевод](/ru/OfflineTranslation.md)

## Тестирование интерфейса

![](../assets/images/TranslationApiConfiguration/test.png)

1. Выберите интерфейс и нажмите кнопку "Тест".

2. Если перевод успешен, результат перевода будет отображаться.

3. Если перевод не удался, будет показано сообщение об ошибке.

## Улучшенный перевод TagComplate

> Включить CSV-файл в [a1111-sd-webui-tagcomplete](https://github.com/DominikDoom/a1111-sd-webui-tagcomplete) для улучшения функции перевода.
>
> После включения этой функции количество запросов в сеть уменьшится, результат перевода станет более точным.
>
> Эта функция заключается в том, что для каждого слова автоматически ищется результат перевода в CSV-файле. Если результат найден, то результат перевода из сети запрашиваться не будет. Если результат не найден, будет запрошен результат перевода из сети.
>
> Поэтому, если в вашем CSV-файле нет слов, которые вы хотите перевести, эта функция не будет работать.

1. Эта функция не требует установки расширения [a1111-sd-webui-tagcomplete](https://github.com/DominikDoom/a1111-sd-webui-tagcomplete). Вы можете просто поместить переведенный CSV-файл в каталог `extensions\sd-webui-prompt-all-in-one\tags`. Если этого каталога нет, создайте его самостоятельно.

    ![](../assets/images/TranslationApiConfiguration/tags_dir.png)

2. Выберите правильный CSV-файл, иначе некоторые слова могут переводится неверно, результат перевода может быть равен 0, язык перевода может быть неверным и т.д.

3. Вы можете открыть CSV-файл в Excel, чтобы проверить, правильный ли формат содержимого. Правильный формат выглядит следующим образом:

    | Номер | Английский | Ваш язык (например, китайский) |
    | :---: | :---: | :---: |
    | 1 | 1girl | 1女孩 |
    | 2 | 1boy | 1男孩 |
    | ... | ... | ... |

    ![](../assets/images/TranslationApiConfiguration/csv.png)

4. Нажмите кнопку "Обновить" и выберите правильный CSV-файл.

    ![](../assets/images/TranslationApiConfiguration/select_csv.png)

5. Нажмите кнопку "Тест". Проверьте, правильный ли результат перевода. В результате тестирования на каждой строке будет отображаться английское слово, а справа - результат перевода на ваш язык. Если результат перевода справа неверный, проверьте, правильный ли ваш CSV-файл, иначе не включайте эту функцию.

    ![](../assets/images/TranslationApiConfiguration/csv_test.png)

6. Если вы хотите использовать только CSV для перевода при автоматическом переводе, а не использовать интерфейс перевода в сети, установите следующий флажок. Если вы нажмете кнопку перевода вручную, интерфейс перевода в сети будет использоваться.

    ![](../assets/images/TranslationApiConfiguration/csv_only.png)